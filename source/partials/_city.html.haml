-# you can access all the cafe elements from the yaml frontmatter in the
-# respective city haml files.

- current_page.data.cafes.each do |cafe|
  .cafe
    .video{ :class => "height#{cafe.video_height.to_i}"}
      %video.video-js.vjs-default-skin{:controls => "true", :loop => "true", height: "#{cafe.video_height.to_i / 2}", width: "#{cafe.video_width.to_i / 2}", :poster => "http://www.videojs.com/img/html5-video.png", :data => {:setup => "{}"},}
        %source{:src => "#{cafe.video}", :type => "video/mp4"}
    .details
      .cafe-title
        .name
          %h2
            = link_to "#{cafe.cafe_name}", "#{cafe.link}"
        .forward
          = link_to "#{cafe.cafe_name}", "#{cafe.link}"
      .post-details
        - link_to '/' do
          .avatar{:style => "background-image: url(#{cafe.user_image});"}
            %small= cafe.user_name
        .left
          .meta.username
            %small
              = link_to "@#{cafe.user_name}", "http://instagram.com/#{cafe.user_name}"
          .meta.date
            %small
              = link_to '', 'http://instagram.com/ytspar', :class => 'time-link', :data => {:time => cafe.created_time}

        .right
          .meta.likes
            %small
              = link_to pluralize(cafe.likes, 'like'), cafe.link
              
          .meta.comments
            %small
              = link_to pluralize(cafe.comments, 'comment'), cafe.link
